<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>New Post</title>
        <link rel="stylesheet" href="{{{config.site.paths.template}}}/css/style.css">
        <link rel="stylesheet" href="{{{config.site.paths.template}}}/css/admin.css">
    </head>
    <body>
        <div class="container">
            <form action="/admin/posts/new" method="POST" class="new-post" id="edit-form">
                <input type="hidden" name="formId" value="new-post">
                <input id="post-title" type="text" name="title" placeholder="Some interesting title">
                <textarea id="post-content" class="content" name="content" placeholder="Write here your post"></textarea>
                <div class="actions">
                    <button type="submit">
                        <i class="fa fa-bomb"></i>
                    </button>
                    <button class="toggle-view" id="toggle-theme">
                        <i class="fa fa-lightbulb-o"></i>
                    </button>
                </div>
            </form>
        </div>
        <script>
            var postContentEl = document.getElementById("post-content")
              , postTitleEl = document.getElementById("post-title")
              , offsetTop = postContentEl.getBoundingClientRect().top
              , bodyHeight = document.body.getBoundingClientRect().height
              , newContentElHeight = bodyHeight - offsetTop - 10
              , toggleThemeEl = document.getElementById("toggle-theme")
              ;

            postContentEl.style.height = newContentElHeight + "px";
            document.body.style.height = (bodyHeight - 100)  + "px";

            postTitleEl.addEventListener("input", function () {
                document.title = this.value.length
                    ? "New Post - " + this.value : "New Post";
            });

            toggleThemeEl.addEventListener("click", function (e) {
                document.body.classList.toggle("night-theme");
                e.preventDefault();
            });
        </script>
    </body>
</html>
